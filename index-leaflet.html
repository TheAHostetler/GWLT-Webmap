<!DOCTYPE html>
<html>

<head>
  <meta charset='utf-utf-8' name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no'/>
  <title>GWLT Webmap</title>

<!-- Add Leaflet library and styles -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.6.0/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet@1.6.0/dist/leaflet.js"></script>

<!-- Add ajax jquery library -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

<!-- Add Tetasset Trails data from file
  <scipt src="data/TetassetTrails_geojson.js" type="text/javascript"></script>
-->

<!-- Add CSS styling info for the map -->
  <style type="text/css">
  body {
      padding: 0;
      margin: 0;
  }
  html, body, #map {
      height: 100%;
      width: 100%;
  }
  </style>

<!-- Adding styling info for page layout by reading in a CSS file
  <link rel="stylesheet" href="styles.css"></link>
-->

</head>

<body>
  <div id="map"></div>

<script>

// initialize the map
  var map = L.map('map').setView([42.264, -71.799], 13);

// load a tile layer
  L.tileLayer('https://tile.thunderforest.com/cycle/{z}/{x}/{y}.png?apikey=043e839ea61f489cb15e6981706e65f2', {
    	attribution: '&copy; <a href="http://www.thunderforest.com/">Thunderforest</a>, &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',
      maxZoom: 17,
      minZoom: 9
    }).addTo(map);

// Add trails to map from geojson
//Could not add data from folder, had to use URL. Not sure why.
  var trails = $.getJSON("https://theahostetler.github.io/GWLT-Webmap/Data/Tetasset_Ridge_Trails_11_10_20.geojson",function(data){
    L.geoJson(data).addTo(map);
  });

//Add challenge routes to map from geoJSON
  var challenge = $.getJSON("https://theahostetler.github.io/GWLT-Webmap/Data/Tetasset_Ridge_Challenge_Routes.geojson",function(data){
    L.geoJson(data).addTo(map);
  });

//Add trailheads to map from geoJSON
var trailhead_points = $.getJSON("https://theahostetler.github.io/GWLT-Webmap/Data/Tetasset_Ridge_Trailheads.geojson",function(data){
  L.geoJson(data,{
    pointToLayer: function(feature,latlng){
	  return L.marker(latlng);
    }
  }).addTo(map);
});

//Use L.polylineDecorator to add symbols to trails: http://bbecquet.github.io/Leaflet.PolylineDecorator/

/*
//This is not working!!!
var geojson = [{
    "type": "LineString",
    "coordinates": [[43, -71.79],[42, -71.79]]
}];

var myStyle = {
    "color": "blue",
    "weight": 10,
    "opacity": .7
};

L.geoJSON(geojson, {style: myStyle}).addTo(map);
*/


// Import geojson with jquery
/*
  $.getJSON("Data\Tetasset_Ridge_Trails_11_10_20.geojson",function(TrailsTetasset){
       L.geoJson(TrailsTetasset, {
         // Adds Trails
         style:
         "color" = "#f54263",
         "weight" = 10
       }).addTo(map);
     });
*/


/*
var geojsonFeature = [{
  "type": "LineString",
  "coordinates": [[42.264, -71.799], [42.274, -71.799], [42.264, -71.789]]
}];

var myLayer = L.geoJSON().addTo(map);

myLayer.addData(geojsonFeature);
*/


/*This does not work - Add lines following tutorial at https://leafletjs.com/examples/geojson/
var geojsonFeature = [{
  "type": "LineString",
  "coordinates": [[42.264, -71.799], [42.274, -71.799], [42.264, -71.789]]
}];

var myStyle = {
  "color": "#0000ff",
  "weight": 20
};

L.geoJSON(myLines, {
  style: myStyle
}).addTo(map);


/*
//The trail data in geojson format has been added to as separate file as a JS variable.
//Add geojson to map
  L.geoJson(tetassetTrails, {
    style:
      color: "#ff7800",
      weight: 5,
      opacity: 0.65}
    ).addTo(map);
*/

</script>

</body>

</html>
